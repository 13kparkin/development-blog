#!/usr/bin/env node
// backend/bin/www

// Import environment variables
require('dotenv').config();
const app = require('../app');
const mongoose = require('mongoose');
const { port } = require('../config');


// Connect to the MongoDB server
mongoose.connect(process.env.MONGO_URI, {
  useNewUrlParser: true,
})

// Log a message to the console when the connection is opened
const db = mongoose.connection;
db.on('error', console.error.bind(console, 'connection error:'));
db.once('open', () => {
  console.log('Connected to MongoDB')
  // Start the server listening for requests
  app.listen(port, () => console.log(`Listening on port ${port}...`));
});










// const db = require('../db/models');

// Check the database connection before starting the app
// db.sequelize
  
